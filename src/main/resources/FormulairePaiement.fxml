<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.FormulairePaiement" style="-fx-background-color: #F5F5F5;">
    <!-- Center: Payment Form -->
    <center>
        <VBox spacing="20" alignment="CENTER" style="-fx-padding: 40; -fx-background-color: #F1F8E9; -fx-border-color: #388E3C; -fx-border-width: 2; -fx-border-radius: 10; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
            <!-- Title -->
            <Label text="Formulaire de Paiement" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #1B5E20; -fx-padding: 0 0 30 0;" />

            <!-- Cardholder Name -->
            <VBox spacing="5" alignment="CENTER_LEFT" style="-fx-max-width: 600;">
                <Label text="Nom sur la carte" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2E7D32;" />
                <TextField fx:id="cardNameField" promptText="Entrez le nom sur la carte" style="-fx-border-color: #81C784; -fx-border-width: 1; -fx-border-radius: 5; -fx-background-color: white; -fx-background-radius: 5; -fx-font-size: 16px; -fx-padding: 10;" HBox.hgrow="ALWAYS">
                    <tooltip>
                        <Tooltip text="Entrez le nom tel qu'il apparaît sur la carte" />
                    </tooltip>
                </TextField>
            </VBox>

            <!-- Card Number -->
            <VBox spacing="5" alignment="CENTER_LEFT" style="-fx-max-width: 600;">
                <Label text="Numéro de carte" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2E7D32;" />
                <TextField fx:id="cardNumberField" promptText="Entrez le numéro de carte" style="-fx-border-color: #81C784; -fx-border-width: 1; -fx-border-radius: 5; -fx-background-color: white; -fx-background-radius: 5; -fx-font-size: 16px; -fx-padding: 10;" HBox.hgrow="ALWAYS">
                    <tooltip>
                        <Tooltip text="Entrez le numéro de carte (16 chiffres)" />
                    </tooltip>
                </TextField>
            </VBox>

            <!-- Expiry Date -->
            <VBox spacing="5" alignment="CENTER_LEFT" style="-fx-max-width: 600;">
                <Label text="Date d'expiration (MM/YY)" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2E7D32;" />
                <TextField fx:id="expiryDateField" promptText="MM/YY" style="-fx-border-color: #81C784; -fx-border-width: 1; -fx-border-radius: 5; -fx-background-color: white; -fx-background-radius: 5; -fx-font-size: 16px; -fx-padding: 10;" HBox.hgrow="ALWAYS">
                    <tooltip>
                        <Tooltip text="Entrez la date d'expiration (ex: 12/25)" />
                    </tooltip>
                </TextField>
            </VBox>

            <!-- CVV -->
            <VBox spacing="5" alignment="CENTER_LEFT" style="-fx-max-width: 600;">
                <Label text="CVV" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2E7D32;" />
                <TextField fx:id="cvvField" promptText="Entrez le CVV" style="-fx-border-color: #81C784; -fx-border-width: 1; -fx-border-radius: 5; -fx-background-color: white; -fx-background-radius: 5; -fx-font-size: 16px; -fx-padding: 10;" HBox.hgrow="ALWAYS">
                    <tooltip>
                        <Tooltip text="Entrez le code CVV (3-4 chiffres au dos de la carte)" />
                    </tooltip>
                </TextField>
            </VBox>

            <!-- Amount to Pay -->
            <VBox spacing="5" alignment="CENTER_LEFT" style="-fx-max-width: 600;">
                <Label text="Montant à payer" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2E7D32;" />
                <Label fx:id="amountLabel" text="0.00 DT" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #1B5E20; -fx-padding: 10; -fx-background-color: #E8F5E9; -fx-border-color: #81C784; -fx-border-width: 1; -fx-border-radius: 5; -fx-background-radius: 5;" />
            </VBox>

            <!-- Promo Code -->
            <VBox spacing="5" alignment="CENTER_LEFT" style="-fx-max-width: 600;">
                <Label text="Code Promo" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2E7D32;" />
                <TextField fx:id="codePromoField" promptText="Entrez un code promo" onAction="#validateCodePromo" style="-fx-border-color: #81C784; -fx-border-width: 1; -fx-border-radius: 5; -fx-background-color: white; -fx-background-radius: 5; -fx-font-size: 16px; -fx-padding: 10;" HBox.hgrow="ALWAYS">
                    <tooltip>
                        <Tooltip text="Entrez un code promo pour appliquer une réduction" />
                    </tooltip>
                </TextField>
                <Label fx:id="codePromoStatusLabel" text="" style="-fx-font-size: 14px; -fx-text-fill: #D32F2F; -fx-padding: 5 0 0 0;" />
            </VBox>

            <!-- Buttons -->
            <HBox spacing="15" alignment="CENTER">
                <Button fx:id="cancelButton" text="Annuler" onAction="#cancel" style="-fx-background-color: #B0BEC5; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-border-radius: 5; -fx-background-radius: 5; -fx-padding: 12 35; -fx-cursor: hand;">
                    <tooltip>
                        <Tooltip text="Annuler et fermer" />
                    </tooltip>
                </Button>
                <Button fx:id="payButton" text="Payer" onAction="#processPayment" style="-fx-background-color: #2E7D32; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-border-radius: 5; -fx-background-radius: 5; -fx-padding: 12 35; -fx-cursor: hand;">
                    <tooltip>
                        <Tooltip text="Effectuer le paiement" />
                    </tooltip>
                </Button>
            </HBox>
        </VBox>
    </center>
</BorderPane>
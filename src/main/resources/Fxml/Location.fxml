<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane styleClass="root" stylesheets="@../styles/location.css" xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.LocationController">

    <!-- Header Section -->
    <HBox layoutX="20" layoutY="20" spacing="20">
        <Label styleClass="header-title" text="Gestion des Locations" />
        <Pane HBox.hgrow="ALWAYS" />
    </HBox>

    <!-- Form Section -->
    <GridPane hgap="20" layoutX="20" layoutY="70" prefHeight="674.0" prefWidth="438.0" styleClass="form-pane" vgap="20">

        <!-- Localisation -->
        <Label text="Localisation du terrain :" GridPane.rowIndex="0" />
        <TextField fx:id="localisationSearchField" GridPane.columnIndex="1" GridPane.rowIndex="0" />

        <!-- Rechercher Button -->
        <Button fx:id="rechercherButton" onAction="#rechercherParLocalisation" prefHeight="58.0" prefWidth="175.0" styleClass="btn-blue" text="Rechercher" GridPane.columnIndex="1" GridPane.rowIndex="1">
            <font>
                <Font size="14.0" />
            </font>
            <GridPane.margin>
                <Insets />
            </GridPane.margin>
        </Button>

        <!-- Terrain -->
        <Label text="Terrain :" GridPane.rowIndex="2" />
        <ComboBox fx:id="terrainCombo" GridPane.columnIndex="1" GridPane.rowIndex="2" />

        <!-- Dates -->
        <Label text="Date Début :" GridPane.rowIndex="3" />
        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="3">
            <DatePicker fx:id="dateDebutPicker" />
        </HBox>

        <Label text="Date Fin :" GridPane.rowIndex="4" />
        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="4">
            <DatePicker fx:id="dateFinPicker" />
        </HBox>

        <!-- Prix -->
        <Label text="Prix :" GridPane.rowIndex="5" />
        <TextField fx:id="prixField" GridPane.columnIndex="1" GridPane.rowIndex="5" />

        <!-- Mode Paiement -->
        <Label text="Mode Paiement :" GridPane.rowIndex="6" />
        <TextField fx:id="modePaiementField" GridPane.columnIndex="1" GridPane.rowIndex="6" />

        <!-- Statut -->
        <Label text="Statut :" GridPane.rowIndex="7" />
        <TextField fx:id="statutField" GridPane.columnIndex="1" GridPane.rowIndex="7" />

        <!-- Paiement -->
        <Label text="Paiement effectué :" GridPane.rowIndex="8" />
        <CheckBox fx:id="paiementCheck" GridPane.columnIndex="1" GridPane.rowIndex="8" />

        <!-- Constraints -->
        <columnConstraints>
            <ColumnConstraints halignment="RIGHT" />
            <ColumnConstraints halignment="LEFT" hgrow="ALWAYS" />
        </columnConstraints>
        <rowConstraints>
            <RowConstraints vgrow="NEVER" />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
        </rowConstraints>
    </GridPane>

    <!-- Table Section -->
    <TableView fx:id="locationTable" layoutX="467.0" layoutY="70.0" prefHeight="416.0" prefWidth="302.0" styleClass="custom-table">
        <columns>
            <TableColumn fx:id="colDateDebut" prefWidth="100" text="Date Début" />
            <TableColumn fx:id="colDateFin" prefWidth="100" text="Date Fin" />
            <TableColumn fx:id="colPrix" prefWidth="90" text="Prix" />
            <TableColumn fx:id="colMode" prefWidth="150" text="Mode Paiement" />
            <TableColumn fx:id="colPaiement" prefWidth="120" text="Paiement effectué" />
            <TableColumn fx:id="colStatut" prefWidth="150" text="Statut" />
        </columns>
    </TableView>

    <!-- Action Buttons -->
    <Button fx:id="ajouterLocation" layoutX="266.0" layoutY="760.0" onAction="#ajouterLocation" styleClass="btn-green" text="Ajouter" />
    <Button fx:id="retourVersTerrain" layoutX="333.0" layoutY="760.0" onAction="#retourVersTerrain" styleClass="btn-orange" text="Retour vers Terrain" />

    <!-- Calendar Section -->
    <VBox layoutX="20.0" layoutY="760.0" spacing="10" />
     <GridPane fx:id="calendarGrid" hgap="5" layoutX="458.0" layoutY="514.0" prefHeight="275.0" prefWidth="320.0" styleClass="calendar-grid" vgap="5">
            <!-- This will be filled dynamically in the controller -->
        </GridPane>
     <Label layoutX="467.0" layoutY="498.0" styleClass="section-label" text="Calendrier des Réservations :" />

</AnchorPane>
